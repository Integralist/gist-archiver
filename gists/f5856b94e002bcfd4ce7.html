<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>RPC: Remote Procedure Call</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="../assets/css/styles.css">
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<div class="markdown-content">
<h1 id="rpc-remote-procedure-call">RPC: Remote Procedure Call</h1>

<p><a href="https://gist.github.com/Integralist/f5856b94e002bcfd4ce7" target="_blank">View original Gist on GitHub</a></p>

<h2 id="rpc-remote-procedure-call-md">RPC: Remote Procedure Call.md</h2>

<p>RPC is a way of connecting two separate services via a raw TCP socket</p>

<blockquote>
<p>Note: SOAP, Thrift, REST APIs, message queues such as RabbitMQ, and key value stores such as Etcd are examples of other tools and protocols</p>
</blockquote>

<h2 id="basic-outline">Basic outline</h2>

<p>The fundamental principle is, you define an RPC service:</p>

<ul>
<li>Write a function</li>
<li>Add some RPC configuration</li>
<li>Register our function as a RPC service</li>
<li>Start the service and have it listen for messages on a specific port</li>
</ul>

<p>From here we have a client service that calls the RPC service:</p>

<ul>
<li>Write code which calls RPC function</li>
<li>Call the function via a specific ip/port</li>
<li>The &lsquo;message&rsquo; is passed over as valid JSON</li>
</ul>

<h2 id="json-rpc">JSON-RPC</h2>

<p>The client JSON could look like:</p>

<ul>
<li><code>method</code>: name of method/service</li>
<li><code>params</code>: Array of arguments to be passed</li>
<li><code>id</code>: usually an integer; makes it easier for client to know which request it got a response to (if the RPC calls are done asynchroneously)</li>
</ul>

<pre><code class="language-json">{&quot;method&quot;: &quot;Arith.Multiply&quot;, &quot;params&quot;: [{&quot;A&quot;: 2, &quot;B&quot;: 3}], &quot;id&quot;: 1}
</code></pre>

<p>The RPC server JSON response could look like:</p>

<ul>
<li><code>result</code>: contains return value of method called (<code>null</code> if error ocurred)</li>
<li><code>error</code>: if error occurred, indicates error code or error message, otherwise <code>null</code></li>
<li><code>id</code>: the id of the request it is responding to</li>
</ul>

<pre><code class="language-json">{&quot;result&quot;: 6, &quot;error&quot;: null, &quot;id&quot;: 1}
</code></pre>
</div>
<link rel="stylesheet" href="../assets/css/highlights/github.min.css">
<script src="../assets/js/highlight.min.js"></script>
<script src="../assets/js/notes.js" defer></script>
<script>hljs.highlightAll();</script>

</div>
</body>
</html>