<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Go: difference between URL host and Request Header Host </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="../assets/css/styles.css">
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<div class="markdown-content">
<h1 id="go-difference-between-url-host-and-request-header-host">Go: difference between URL host and Request Header Host</h1>

<p><a href="https://gist.github.com/Integralist/8c0140da58fd6575373f6f1d98367170" target="_blank">View original Gist on GitHub</a></p>

<p><strong>Tags:</strong> #go #http</p>

<h2 id="difference-between-url-host-and-request-header-host-md">difference between URL host and Request Header Host.md</h2>

<p>The <code>r.URL</code> field is created by parsing the HTTP request URI.</p>

<p>The <code>r.Host</code> field is the value of the <code>Host</code> request header. It&rsquo;s the same value as calling <code>r.Header.Get(&quot;Host&quot;)</code>.</p>

<p>If the HTTP request on the wire is:</p>

<pre><code>GET /pub/WWW/TheProject.html HTTP/1.1
Host: www.example.org:8080
</code></pre>

<p>&hellip;then <code>r.URL.Host</code> is <code>&quot;&quot;</code> and <code>r.Host</code> is <code>www.example.org:8080</code>.</p>

<p>The value of <code>r.URL.Host</code> and <code>r.Host</code> are almost always different.</p>

<p>On a proxy server, <code>r.URL.Host</code> is the host of the target server and <code>r.Host</code> is the host of the proxy server itself.</p>

<p>When not connecting through a proxy, the client does not specify a host in the request URI. In this scenario, <code>r.URL.Host</code> is the empty string.</p>

<p>If you are not implementing a proxy, then you should use <code>r.Host</code> to determine the host.</p>
</div>
<link rel="stylesheet" href="../assets/css/highlights/github.min.css">
<script src="../assets/js/highlight.min.js"></script>
<script src="../assets/js/notes.js" defer></script>
<script>hljs.highlightAll();</script>

</div>
</body>
</html>