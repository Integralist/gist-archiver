<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Python3 Virtual Environment with venv] #python #python3 #makefile #venv #virtual environment</title>
<link rel="stylesheet" type="text/css" href="../assets/css/styles.css">
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<h1 id="python3-virtual-environment-with-venv-python-python3-makefile-venv-virtual-environment">[Python3 Virtual Environment with venv] #python #python3 #makefile #venv #virtual environment</h1>

<h2 id="makefile">Makefile</h2>

<pre><code class="language-makefile">dir := foobar
root := $(shell git rev-parse --show-toplevel)

# NOTE:
# activating the venv via `source` doesn't work so we use the . synonym instead.
venv:
	@python3 -m venv .venv/rate_control; \
	. .venv/$(dir)/bin/activate; \
	python3 -m pip install --quiet --upgrade pip; \
	python3 -m pip install --quiet -r $(root)/$(dir)/scripts/requirements.txt

purge: venv
	@. .venv/$(dir)/bin/activate; \
	python3 $(root)/$(dir)/scripts/...

</code></pre>

<h2 id="example-sh">example.sh</h2>

<pre><code class="language-shell">python3 --version # Python 3.11.3
ls /opt/homebrew/Cellar/python@3.11
ls /opt/homebrew/Cellar/python@3.11/3.11.3/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages
ls /opt/homebrew/lib/python3.11/site-packages # above is an alias to this

python3 -m pip list

python3 -m venv testing-fastly-py-tls-bulk-cert # actually creates a subfolder you need to work within
cd testing-fastly-py-tls-bulk-cert
source bin/activate
python3 -m pip list
# from here you can create files in this directory
# or maybe you want to create them in another directory and just use the currently active venv
deactivate

</code></pre>

</div>
</body>
</html>