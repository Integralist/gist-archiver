<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Bash script with dynamic values for inputs using Expect] #bash #shell #expect #dynamic #script #input #password</title>
<link rel="stylesheet" type="text/css" href="../assets/css/styles.css">
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<h1 id="bash-script-with-dynamic-values-for-inputs-using-expect-bash-shell-expect-dynamic-script-input-password">[Bash script with dynamic values for inputs using Expect] #bash #shell #expect #dynamic #script #input #password</h1>

<p><a href="https://gist.github.com/Integralist/3e835b07842cfab4dfd11d2047ffd7dd" target="_blank">View original Gist on GitHub</a></p>

<h2 id="bash-script-with-dynamic-values-for-inputs-using-expect-md">Bash script with dynamic values for inputs using Expect.md</h2>

<p>A bash script that will expect input from the user (e.g. we are going to be the user in this example):</p>

<pre><code class="language-bash">#!/bin/bash
 
echo &quot;Hello, who are you?&quot;
 
read $REPLY
 
echo &quot;Can I ask you some questions?&quot;
 
read $REPLY
 
echo &quot;What is your favorite topic?&quot;
 
read $REPLY
</code></pre>

<p>We can write our own script (e.g. <code>chmod +x ./answerbot</code>) to use <code>expect</code> to respond with pre-canned responses:</p>

<pre><code class="language-bash">#!/usr/bin/expect -f
 
set timeout -1 # disable the timeout
 
spawn ./questions # start our script using spawn command
 
expect &quot;Hello, who are you?\r&quot;
 
send -- &quot;Im Adam\r&quot;
 
expect &quot;Can I ask you some questions?\r&quot;
 
send -- &quot;Sure\r&quot;
 
expect &quot;What is your favorite topic?\r&quot;
 
send -- &quot;Technology\r&quot;
 
expect eof
</code></pre>

<blockquote>
<p>Note: discovered <code>autoexpect ./some_script.sh</code> which will look at <code>some_script.sh</code> and will dynamically generate an &lsquo;expect&rsquo; script for you</p>
</blockquote>
<link rel="stylesheet" href="../assets/css/highlights/github.min.css">
<script src="../assets/js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

</div>
</body>
</html>