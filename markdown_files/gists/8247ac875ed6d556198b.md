# Test Files for Composition Example

[View original Gist on GitHub](https://gist.github.com/Integralist/8247ac875ed6d556198b)

## articles-envelope

```text
{
  "html": "<h2>My Article</h2>",
  "css": "<link rel='stylesheet' src='https://s3-eu-west-1.amazonaws.com/shared-application-buckets-public-1pmfwo80l61it/composition-example/assets/css/article.css'>",
  "javascript": "<script>alert('Hello from Article component');</script>",
  "meta": "<meta name='author' content='BBC News Editorial'>"
}
```

## bodyfirst-envelope

```text
{
  "html": "<!-- BBCDOTCOM bodyFirst --><div id=\"bbccom_interstitial_ad\" class=\"bbccom_display_none\"></div><div id=\"bbccom_interstitial\" class=\"bbccom_display_none\"><script type=\"text/javascript\"> /*<![CDATA[*/ (function() { if (window.bbcdotcom && bbcdotcom.config.isActive('ads')) { googletag.cmd.push(function() { googletag.display('bbccom_interstitial'); }); } }()); /*]]>*/ </script></div><div id=\"bbccom_wallpaper_ad\" class=\"bbccom_display_none\"></div><div id=\"bbccom_wallpaper\" class=\"bbccom_display_none\"><script type=\"text/javascript\"> /*<![CDATA[*/ (function() { var wallpaper; if (window.bbcdotcom && bbcdotcom.config.isActive('ads')) { if (bbcdotcom.config.isAsync()) { googletag.cmd.push(function() { googletag.display('bbccom_wallpaper'); }); } else { googletag.display(\"wallpaper\"); } wallpaper = bbcdotcom.adverts.adRegister.getAd('wallpaper'); if (wallpaper !== null && wallpaper !== undefined) { wallpaper.setDomElement('bbccom_wallpaper'); } } }()); /*]]>*/ </script></div><script type=\"text/javascript\"> /*<![CDATA[*/ (function() { if (window.bbcdotcom && bbcdotcom.config.isActive('ads')) { document.write(unescape('%3Cscript id=\"gnlAdsEnabled\" class=\"bbccom_display_none\"%3E%3C/script%3E')); } if (window.bbcdotcom && bbcdotcom.config.isActive('analytics')) { document.write(unescape('%3Cscript id=\"gnlAnalyticsEnabled\" class=\"bbccom_display_none\"%3E%3C/script%3E')); } if (window.bbcdotcom && bbcdotcom.config.isActive('continuousPlay')) { document.write(unescape('%3Cscript id=\"gnlContinuousPlayEnabled\" class=\"bbccom_display_none\"%3E%3C/script%3E')); } }()); /*]]>*/ </script> <div id=\"blq-global\"> <div id=\"blq-pre-mast\">  </div> </div>  <script type=\"text/html\" id=\"blq-bbccookies-tmpl\"><![CDATA[ <section> <div id=\"bbccookies\" class=\"bbccookies-banner orb-banner-wrapper bbccookies-d\"> <div id=\"bbccookies-prompt\" class=\"orb-banner b-g-p b-r b-f\"> <h2 class=\"orb-banner-title\"> Cookies on the BBC website </h2> <p class=\"orb-banner-content\" dir=\"ltr\"> The BBC has updated its cookie policy. We use cookies to ensure that we give you the best experience on our website. This includes cookies from third party social media websites if you visit a page which contains embedded content from social media. Such third party cookies may track your use of the BBC website.<span class=\"bbccookies-international-message\"> We and our partners also use cookies to ensure we show you advertising that is relevant to you.</span> If you continue without changing your settings, we'll assume that you are happy to receive all cookies on the BBC website. However, you can change your cookie settings at any time. </p> <ul class=\"orb-banner-options\"> <li id=\"bbccookies-continue\"> <button type=\"button\" id=\"bbccookies-continue-button\">Continue</button> </li> <li id=\"bbccookies-settings\"> <a href=\"/privacy/cookies/managing/cookie-settings.html\">Change settings</a> </li> <li id=\"bbccookies-more\"><a href=\"/privacy/cookies/bbc\">Find out more</a></li></ul> </div> </div> </section> ]]></script> <script type=\"text/javascript\">/*<![CDATA[*/ (function(){if(bbccookies._showPrompt()){var g=document,b=g.getElementById(\"blq-pre-mast\"),e=g.getElementById(\"blq-bbccookies-tmpl\"),a,f;if(b&&g.createElement){a=g.createElement(\"div\");f=e.innerHTML;f=f.replace(\"<\"+\"![CDATA[\",\"\").replace(\"]]\"+\">\",\"\");a.innerHTML=f;b.appendChild(a);blqCookieContinueButton=g.getElementById(\"bbccookies-continue-button\");blqCookieContinueButton.onclick=function(){a.parentNode.removeChild(a);return false};bbccookies._setPolicy(bbccookies.readPolicy())}var c=g.getElementById(\"bbccookies\");if(c&&!window.orb.fig(\"uk\")){c.className=c.className.replace(/\\bbbccookies-d\\b/,\"\");c.className=c.className+(\" bbccookies-w\")}}})(); /*]]>*/</script>   <script type=\"text/javascript\">/*<![CDATA[*/ if (bbccookies.isAllowed('s1')) { var istatsTrackingUrl = '//sa.bbc.co.uk/bbc/bbc/s?name=frameworks.barlesque.orb.webservice.json.page&pal_route=webserviceapi&ml_name=barlesque&app_type=responsive&language=en-GB&ml_version=0.26.31&pal_webapp=barlesque&prod_name=frameworks&app_name=frameworks'; require(['istats-1'], function (istats) {  istats.addCollector({'name': 'default', 'url': '//sa.bbc.co.uk/bbc/bbc/s', 'seperator': '&' }); var counterName = (window.istats_countername) ? window.istats_countername : istatsTrackingUrl.match(/[\\?&]name=([^&]*)/i)[1]; istats.setCountername(counterName);  if (/\\bIDENTITY=/.test(document.cookie)) { istats.addLabels({'bbc_identity': '1'}); } if (/\\bckns_policy=\\d\\d0/.test(document.cookie)) { istats.addLabels({'ns_nc': '1'}); } var c = (document.cookie.match(/\\bckns_policy=(\\d\\d\\d)/) || []).pop() || ''; var screenWidthAndHeight = 'unavailable'; if (window.screen && screen.width && screen.height) { screenWidthAndHeight = screen.width + 'x' + screen.height; } istats.addLabels('pal_route=webserviceapi&ml_name=barlesque&app_type=responsive&language=en-GB&ml_version=0.26.31&pal_webapp=barlesque&prod_name=frameworks&app_name=frameworks'); istats.addLabels({  'blq_s': '4d', 'blq_r': '2.7', 'blq_v': 'default', 'blq_e': 'pal',  'bbc_mc': (c ? 'ad' + c.charAt(0) + 'ps' + c.charAt(1) + 'pf' + c.charAt(2) : 'not_set'), 'screen_resolution': screenWidthAndHeight, 'ns_referrer': encodeURI(((window.orb.referrer) ? window.orb.referrer : document.referrer)) } );  istats.invoke(); }); } /*]]>*/</script>  <!-- Begin iStats 20100118 (UX-CMC 1.1009.3) --> <script type=\"text/javascript\">/*<![CDATA[*/ if (bbccookies.isAllowed('s1')) { (function () { require(['istats-1'], function (istats) { istatsTrackingUrl = istats.getDefaultURL(); if (istats.isEnabled() && bbcFlagpoles_istats === 'ON') { sitestat(istatsTrackingUrl); } else { window.ns_pixelUrl = istatsTrackingUrl; /* used by Flash library to track */ } function sitestat(n) { var j = document, f = j.location, b = \"\"; if (j.cookie.indexOf(\"st_ux=\") != -1) { var k = j.cookie.split(\";\"); var e = \"st_ux\", h = document.domain, a = \"/\"; if (typeof ns_ != \"undefined\" && typeof ns_.ux != \"undefined\") { e = ns_.ux.cName || e; h = ns_.ux.cDomain || h; a = ns_.ux.cPath || a } for (var g = 0, f = k.length; g < f; g++) { var m = k[g].indexOf(\"st_ux=\"); if (m != -1) { b = \"&\" + decodeURI(k[g].substring(m + 6)) } } bbccookies.set(e + \"=; expires=\" + new Date(new Date().getTime() - 60).toGMTString() + \"; path=\" + a + \"; domain=\" + h); } window.ns_pixelUrl = n;  } }); })(); } else { window.istats = {enabled: false}; } /*]]>*/</script> <noscript><p style=\"position: absolute; top: -999em;\"><img src=\"//sa.bbc.co.uk/bbc/bbc/s?name=frameworks.barlesque.orb.webservice.json.page&amp;pal_route=webserviceapi&amp;ml_name=barlesque&amp;app_type=responsive&amp;language=en-GB&amp;ml_version=0.26.31&amp;pal_webapp=barlesque&amp;prod_name=frameworks&amp;app_name=frameworks&amp;blq_js_enabled=0&amp;blq_s=4d&amp;blq_r=2.7&amp;blq_v=default&amp;blq_e=pal \" height=\"1\" width=\"1\" alt=\"\"/></p></noscript> <!-- End iStats (UX-CMC) -->  \n <!--[if (gt IE 8) | (IEMobile)]><!--> <header id=\"orb-banner\" role=\"banner\"> <!--<![endif]--> <!--[if (lt IE 9) & (!IEMobile)]> <![if (IE 8)]> <header id=\"orb-banner\" role=\"banner\" class=\"orb-old-ie orb-ie8\"> <![endif]> <![if (IE 7)]> <header id=\"orb-banner\" role=\"banner\" class=\"orb-old-ie orb-ie7\"> <![endif]> <![if (IE 6)]> <header id=\"orb-banner\" role=\"banner\" class=\"orb-old-ie orb-ie6\"> <![endif]> <![endif]--> <div id=\"orb-header\"  class=\"orb-nav-pri orb-nav-pri-white orb-nav-empty\"  > <div class=\"orb-nav-pri-container b-r b-g-p\"> <div class=\"orb-nav-section orb-nav-blocks\"> <a href=\"/\"> <img  src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/img/bbc-blocks-dark.png\" width=\"84\" height=\"24\" alt=\"BBC\" /> </a> </div> <section> <div class=\"orb-skip-links\"> <h2>Accessibility links</h2> <ul>  <li><a id=\"orb-accessibility-help\" href=\"/accessibility/\">Accessibility Help</a></li> </ul> </div> </section>  <div class=\"orb-nav-section orb-nav-id orb-nav-focus orb-nav-id-default\">     <a id=\"idcta-link\" href=\"https://ssl.bbc.co.uk/id/status\"><img id=\"idcta-image\" src=\"http://static.bbci.co.uk/id/0.32.00/img/bbcid_orb_signin_dark.png\" alt=\"\" width=\"18\" height=\"18\" /><span id=\"idcta-username\">BBC iD</span></a>                </div>  <nav role=\"navigation\" class=\"orb-nav\"> <div class=\"orb-nav-section orb-nav-links orb-nav-focus\" id=\"orb-nav-links\"> <h2>BBC navigation</h2> <ul>    <li  class=\"orb-nav-news orb-d\"  > <a href=\"http://www.bbc.co.uk/news/\">News</a> </li>    <li  class=\"orb-nav-newsdotcom orb-w\"  > <a href=\"http://www.bbc.com/news/\">News</a> </li>    <li  class=\"orb-nav-sport\"  > <a href=\"/sport/\">Sport</a> </li>    <li  class=\"orb-nav-weather\"  > <a href=\"/weather/\">Weather</a> </li>    <li  class=\"orb-nav-shop orb-w\"  > <a href=\"http://shop.bbc.com/\">Shop</a> </li>    <li  class=\"orb-nav-earthdotcom orb-w\"  > <a href=\"http://www.bbc.com/earth/\">Earth</a> </li>    <li  class=\"orb-nav-travel-dotcom orb-w\"  > <a href=\"http://www.bbc.com/travel/\">Travel</a> </li>    <li  class=\"orb-nav-capital orb-w\"  > <a href=\"http://www.bbc.com/capital/\">Capital</a> </li>    <li  class=\"orb-nav-iplayer orb-d\"  > <a href=\"/iplayer/\">iPlayer</a> </li>    <li  class=\"orb-nav-culture orb-w\"  > <a href=\"http://www.bbc.com/culture/\">Culture</a> </li>    <li  class=\"orb-nav-autos orb-w\"  > <a href=\"http://www.bbc.com/autos/\">Autos</a> </li>    <li  class=\"orb-nav-future orb-w\"  > <a href=\"http://www.bbc.com/future/\">Future</a> </li>    <li  class=\"orb-nav-tv\"  > <a href=\"/tv/\">TV</a> </li>    <li  class=\"orb-nav-radio\"  > <a href=\"/radio/\">Radio</a> </li>    <li  class=\"orb-nav-cbbc\"  > <a href=\"/cbbc\">CBBC</a> </li>    <li  class=\"orb-nav-cbeebies\"  > <a href=\"/cbeebies\">CBeebies</a> </li>    <li  class=\"orb-nav-arts orb-d\"  > <a href=\"/arts/\">Arts</a> </li>    <li  > <a href=\"/ww1/\">WW1</a> </li>    <li  class=\"orb-nav-food\"  > <a href=\"/food/\">Food</a> </li>    <li  > <a href=\"/iwonder\">iWonder</a> </li>    <li  > <a href=\"/education\">Bitesize</a> </li>    <li  class=\"orb-nav-music\"  > <a href=\"/music/\">Music</a> </li>    <li  class=\"orb-nav-nature orb-w\"  > <a href=\"/nature/\">Nature</a> </li>    <li  class=\"orb-nav-earth orb-d\"  > <a href=\"http://www.bbc.com/earth/\">Earth</a> </li>    <li  class=\"orb-nav-local\"  > <a href=\"/local/\">Local</a> </li>    <li  class=\"orb-nav-travel orb-d\"  > <a href=\"/travel/\">Travel</a> </li>    <li id=\"orb-nav-more\"><a href=\"#orb-footer\" data-alt=\"More\">Menu<span class=\"orb-icon orb-icon-arrow\"></span></a></li> </ul> </div> </nav> <div class=\"orb-nav-section orb-nav-search\"> <a href=\"http://search.bbc.co.uk/search\"> <img  src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/img/orb-search-dark.png\" width=\"18\" height=\"18\" alt=\"Search the BBC\" /> </a> <form class=\"b-f\" id=\"orb-search-form\" role=\"search\" method=\"get\" action=\"http://search.bbc.co.uk/search\" accept-charset=\"utf-8\"> <div>   <label for=\"orb-search-q\">Search the BBC</label> <input id=\"orb-search-q\" type=\"text\" name=\"q\" placeholder=\"Search\" /> <input type=\"image\" id=\"orb-search-button\" src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/img/orb-search-dark.png\" width=\"17\" height=\"17\" alt=\"Search the BBC\" /> <input type=\"hidden\" name=\"suggid\" id=\"orb-search-suggid\" /> </div> </form> </div> </div> <div id=\"orb-panels\"  > <script type=\"text/template\" id=\"orb-panel-template\"><![CDATA[ <div id=\"orb-panel-<%= panelname %>\" class=\"orb-panel\" aria-labelledby=\"orb-nav-<%= panelname %>\"> <div class=\"orb-panel-content b-g-p b-r\"> <%= panelcontent %> </div> </div> ]]></script> </div> </div> </header> <!-- Styling hook for shared modules only --> <div id=\"orb-modules\">",
  "css": "",
  "javascript": "",
  "meta": ""
}
```

## bodylast-envelope

```text
{
  "html": "</div> <div id=\"orb-footer\"  class=\"orb-footer orb-footer-grey  orb-footer-promo-legacy \" >  <aside role=\"complementary\"> <div id=\"orb-aside\" class=\"orb-nav-sec b-r b-g-p\"> <div class=\"orb-footer-inner\" role=\"navigation\">  <h2 class=\"orb-footer-lead\">Explore the BBC</h2>   <div id=\"orb-footer-promo\" class=\"orb-d\"></div>  <div class=\"orb-footer-primary-links\"> <ul>    <li  class=\"orb-nav-news orb-d\"  > <a href=\"http://www.bbc.co.uk/news/\">News</a> </li>    <li  class=\"orb-nav-newsdotcom orb-w\"  > <a href=\"http://www.bbc.com/news/\">News</a> </li>    <li  class=\"orb-nav-sport\"  > <a href=\"/sport/\">Sport</a> </li>    <li  class=\"orb-nav-weather\"  > <a href=\"/weather/\">Weather</a> </li>    <li  class=\"orb-nav-shop orb-w\"  > <a href=\"http://shop.bbc.com/\">Shop</a> </li>    <li  class=\"orb-nav-earthdotcom orb-w\"  > <a href=\"http://www.bbc.com/earth/\">Earth</a> </li>    <li  class=\"orb-nav-travel-dotcom orb-w\"  > <a href=\"http://www.bbc.com/travel/\">Travel</a> </li>    <li  class=\"orb-nav-capital orb-w\"  > <a href=\"http://www.bbc.com/capital/\">Capital</a> </li>    <li  class=\"orb-nav-iplayer orb-d\"  > <a href=\"/iplayer/\">iPlayer</a> </li>    <li  class=\"orb-nav-culture orb-w\"  > <a href=\"http://www.bbc.com/culture/\">Culture</a> </li>    <li  class=\"orb-nav-autos orb-w\"  > <a href=\"http://www.bbc.com/autos/\">Autos</a> </li>    <li  class=\"orb-nav-future orb-w\"  > <a href=\"http://www.bbc.com/future/\">Future</a> </li>    <li  class=\"orb-nav-tv\"  > <a href=\"/tv/\">TV</a> </li>    <li  class=\"orb-nav-radio\"  > <a href=\"/radio/\">Radio</a> </li>    <li  class=\"orb-nav-cbbc\"  > <a href=\"/cbbc\">CBBC</a> </li>    <li  class=\"orb-nav-cbeebies\"  > <a href=\"/cbeebies\">CBeebies</a> </li>    <li  class=\"orb-nav-arts orb-d\"  > <a href=\"/arts/\">Arts</a> </li>    <li  > <a href=\"/ww1/\">WW1</a> </li>    <li  class=\"orb-nav-food\"  > <a href=\"/food/\">Food</a> </li>    <li  > <a href=\"/iwonder\">iWonder</a> </li>    <li  > <a href=\"/education\">Bitesize</a> </li>    <li  class=\"orb-nav-music\"  > <a href=\"/music/\">Music</a> </li>    <li  class=\"orb-nav-nature orb-w\"  > <a href=\"/nature/\">Nature</a> </li>    <li  class=\"orb-nav-earth orb-d\"  > <a href=\"http://www.bbc.com/earth/\">Earth</a> </li>    <li  class=\"orb-nav-local\"  > <a href=\"/local/\">Local</a> </li>    <li  class=\"orb-nav-travel orb-d\"  > <a href=\"/travel/\">Travel</a> </li>    </ul> </div> </div> </div> </aside> <footer role=\"contentinfo\"> <div id=\"orb-contentinfo\" class=\"orb-nav-sec b-r b-g-p\"> <div class=\"orb-footer-inner\"> <ul>        <li  > <a href=\"/terms/\">Terms of Use</a> </li>    <li  > <a href=\"/aboutthebbc/\">About the BBC</a> </li>    <li  > <a href=\"/privacy/\">Privacy Policy</a> </li>    <li  > <a href=\"/privacy/cookies/about\">Cookies</a> </li>    <li  > <a href=\"/accessibility/\">Accessibility Help</a> </li>    <li  > <a href=\"/guidance/\">Parental Guidance</a> </li>    <li  > <a href=\"/contact/\">Contact the BBC</a> </li>        </ul> <small> <span class=\"orb-hilight\">Copyright &copy; 2015 BBC.</span> The BBC is not responsible for the content of external sites. <a href=\"/help/web/links/\" class=\"orb-hilight\">Read about our approach to external linking.</a> </small> </div> </div> </footer> </div>     <!-- BBCDOTCOM bodyLast --><div class=\"bbccom_display_none\"><script type=\"text/javascript\"> /*<![CDATA[*/ if (window.bbcdotcom && window.bbcdotcom.analytics) { bbcdotcom.analytics.page(); } if (window.bbcdotcom && bbcdotcom.currencyProviders) { bbcdotcom.currencyProviders.write(); } /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ if (window.bbcdotcom && bbcdotcom.currencyProviders) { bbcdotcom.currencyProviders.postWrite(); } /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ /** * ASNYC waits to make any gpt requests until the bottom of the page */ /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ if (window.bbcdotcom && bbcdotcom.data && bbcdotcom.data.stats && bbcdotcom.data.stats === 1 && bbcdotcom.utils && window.location.pathname === '/' && window.bbccookies && bbccookies.readPolicy('performance') ) { var wwhpEdition = bbcdotcom.utils.getMetaPropertyContent('wwhp-edition'); var _sf_async_config={}; /** CONFIGURATION START **/ _sf_async_config.uid = 50924; _sf_async_config.domain = \"bbc.co.uk\"; _sf_async_config.title = \"Homepage\"+(wwhpEdition !== '' ? ' - '+wwhpEdition : ''); _sf_async_config.sections = \"Homepage\"+(wwhpEdition !== '' ? ', Homepage - '+wwhpEdition : ''); _sf_async_config.region = wwhpEdition; _sf_async_config.path = \"/\"+(wwhpEdition !== '' ? '?'+wwhpEdition : ''); /** CONFIGURATION END **/ (function(){ function loadChartbeat() { window._sf_endpt=(new Date()).getTime(); var e = document.createElement(\"script\"); e.setAttribute(\"language\", \"javascript\"); e.setAttribute(\"type\", \"text/javascript\"); e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js'); document.body.appendChild(e); } var oldonload = window.onload; window.onload = (typeof window.onload != \"function\") ? loadChartbeat : function() { oldonload(); loadChartbeat(); }; })(); } /*]]>*/ </script></div> <!-- BBCDOTCOM all code in page -->  <script type=\"text/javascript\"> document.write('<' + 'script id=\"orb-js-script\" data-assetpath=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/\" src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/script' + (( document.cookie.indexOf('ckns_debugorbjs') > -1 )? '-debug' : '') + '/orb.js\"><' + '/script>'); </script>  <script type=\"text/javascript\"> (function() {\n    'use strict';\n\n    var promoManager = {\n        url: '',\n        segments: ['a', 'b'],\n        promoLoaded: false,\n                makeUrl: function (variant, theme, win) {\n            var loc = win? win.location : window.location,\n                proto = loc.protocol,\n                host = loc.host,\n                url = proto + '//' + ((proto.match(/s:/i) && !host.match(/^www\\.(int|test)\\./i))? 'ssl.' : 'www.'),\n                themes = ['light', 'dark'];\n\n            if ( host.match(/^(?:www|ssl)\\.(int|test|stage|live)\\.bbc\\./i) ) {\n                url += RegExp.$1 + '.';\n            }\n            else if ( host.match(/^pal\\.sandbox\\./i) ) {\n                url += 'test.';\n            }\n\n                        theme = themes[ +(theme === themes[0]) ];\n\n           return url + 'bbc.co.uk/navpromo/' + variant + '/' + theme;\n        },\n                validSegment: function (segment) {\n            var validSegments = this.segments;\n\n            for (var i = 0, len = validSegments.length; i < len; i++) {\n                if (validSegments[i] === segment) {\n                    return segment;\n                }\n            }\n\n            return validSegments[0];\n        },\n                init: function(node) {\n            var disabledByCookie = (document.cookie.indexOf('ckns_orb_nopromo=1') > -1),\n                orbFullWidth     = (document.getElementById('orb-aside').offsetWidth >= 1008),\n                that = this;\n\n            if (window.promomanagerOverride) {\n                for (var p in promomanagerOverride) {\n                    that[p] = promomanagerOverride[p];\n                }\n            }\n\n            if ( window.orb.fig('uk') && orbFullWidth && !disabledByCookie ) {\n                require(['orb/async/_footerpromo', 'istats-1'], function(promo, istats) {\n                                        var mandolinEndDate = new Date().getTime() + (7 * 60 * 60 * 24) * 1000,\n                        mandolin = new bbc.Mandolin('footer-promo', that.segments, {rate: 0.2, end: mandolinEndDate}),\n                        segmentToRequest = that.validSegment(mandolin.getSegment());\n\n                    that.url = (window.promomanagerOverride || that).makeUrl(segmentToRequest, 'light');\n\n                    if (that.url) {\n                        promo.load(that.url, node, {\n                                                          onSuccess: function(e) {\n                                istats.addLabels({ 'campaignID': e.campaignID });\n                                if (segmentToRequest === mandolin.getSegment()) {\n                                    istats.addLabels({ 'promo_id_segment': e.campaignID + ':' + mandolin.getSegment() });\n                                }\n                                istats.track('internal', {region: node, linkLocation : 'orb-footer-promo'});\n\n                                istats.log('display', 'orb-footer-promo-displayed', {campaignID : e.campaignID, testVariant: segmentToRequest});\n                                node.className = node.className + ' orb-footer-promo-loaded';\n                                promoManager.promoLoaded = true;\n                                promoManager.event('promo-loaded').fire(e);\n                             },\n                             onError: function() {\n                                istats.log('error', 'orb-footer-promo-failed');\n                                document.cookie = 'ckns_orb_nopromo=1; expires=' + new Date(new Date().getTime() + 1000 * 60 * 10).toGMTString() + ';';\n                             }\n                        });\n                    }\n                });\n            }\n        }\n    };\n\n\n    define('orb/promomanager', ['orb/lib/_event'], function (event) {\n        event.mixin(promoManager);\n        return promoManager;\n    });\n\n    require(['orb/promomanager'], function (promoManager) {\n        promoManager.init(document.getElementById('orb-footer-promo'));\n    })\n})();\n </script>   <script type=\"text/javascript\"> if (typeof require !== 'undefined') { require(['istats-1'], function(istats){ istats.track('external', { region: document.getElementsByTagName('body')[0] }); istats.track('download', { region: document.getElementsByTagName('body')[0] }); }); }  </script>",
  "css": "",
  "javascript": "",
  "meta": ""
}
```

## head-envelope

```text
{
  "html": "",
  "css": "",
  "javascript": "",
  "meta": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />     <!--orb.ws.require.lib--> <script type=\"text/javascript\">/*<![CDATA[*/ if (typeof window.define !== 'function' || typeof window.require !== 'function') { document.write('<script class=\"js-require-lib\" src=\"http://static.bbci.co.uk/frameworks/requirejs/lib.js\"><'+'/script>'); } /*]]>*/</script> <script type=\"text/javascript\">  bbcRequireMap = {\"jquery-1\":\"http://static.bbci.co.uk/frameworks/jquery/0.3.0/sharedmodules/jquery-1.7.2\", \"jquery-1.4\":\"http://static.bbci.co.uk/frameworks/jquery/0.3.0/sharedmodules/jquery-1.4\", \"jquery-1.9\":\"http://static.bbci.co.uk/frameworks/jquery/0.3.0/sharedmodules/jquery-1.9.1\", \"swfobject-2\":\"http://static.bbci.co.uk/frameworks/swfobject/0.1.10/sharedmodules/swfobject-2\", \"demi-1\":\"http://static.bbci.co.uk/frameworks/demi/0.10.0/sharedmodules/demi-1\", \"gelui-1\":\"http://static.bbci.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1\", \"cssp!gelui-1/overlay\":\"http://static.bbci.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1/overlay.css\", \"istats-1\":\"http://static.bbci.co.uk/frameworks/istats/0.26.31/modules/istats-1\", \"relay-1\":\"http://static.bbci.co.uk/frameworks/relay/0.2.6/sharedmodules/relay-1\", \"clock-1\":\"http://static.bbci.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1\", \"canvas-clock-1\":\"http://static.bbci.co.uk/frameworks/clock/0.1.9/sharedmodules/canvas-clock-1\", \"cssp!clock-1\":\"http://static.bbci.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1.css\", \"jssignals-1\":\"http://static.bbci.co.uk/frameworks/jssignals/0.3.6/modules/jssignals-1\", \"jcarousel-1\":\"http://static.bbci.co.uk/frameworks/jcarousel/0.1.10/modules/jcarousel-1\", \"bump-3\":\"//emp.bbci.co.uk/emp/bump-3/bump-3\"}; require({ baseUrl: 'http://static.bbci.co.uk/', paths: bbcRequireMap, waitSeconds: 30 }); </script>   <script type=\"text/javascript\">/*<![CDATA[*/ if (typeof bbccookies_flag === 'undefined') { bbccookies_flag = 'ON'; } showCTA_flag = true; cta_enabled = (showCTA_flag && (bbccookies_flag === 'ON')); (function(){var e=\"ckns_policy\",m=\"Thu, 01 Jan 1970 00:00:00 GMT\",k={ads:true,personalisation:true,performance:true,necessary:true};function f(p){if(f.cache[p]){return f.cache[p]}var o=p.split(\"/\"),q=[\"\"];do{q.unshift((o.join(\"/\")||\"/\"));o.pop()}while(q[0]!==\"/\");f.cache[p]=q;return q}f.cache={};function a(p){if(a.cache[p]){return a.cache[p]}var q=p.split(\".\"),o=[];while(q.length&&\"|co.uk|com|\".indexOf(\"|\"+q.join(\".\")+\"|\")===-1){if(q.length){o.push(q.join(\".\"))}q.shift()}f.cache[p]=o;return o}a.cache={};function i(o,t,p){var z=[\"\"].concat(a(window.location.hostname)),w=f(window.location.pathname),y=\"\",r,x;for(var s=0,v=z.length;s<v;s++){r=z[s];for(var q=0,u=w.length;q<u;q++){x=w[q];y=o+\"=\"+t+\";\"+(r?\"domain=\"+r+\";\":\"\")+(x?\"path=\"+x+\";\":\"\")+(p?\"expires=\"+p+\";\":\"\");bbccookies.set(y,true)}}}window.bbccookies={POLICY_REFRESH_DATE_MILLIS:new Date(2015,4,21,0,0,0,0).getTime(),POLICY_EXPIRY_COOKIENAME:\"ckns_policy_exp\",_setEverywhere:i,cookiesEnabled:function(){var o=\"ckns_testcookie\"+Math.floor(Math.random()*100000);this.set(o+\"=1\");if(this.get().indexOf(o)>-1){g(o);return true}return false},set:function(o){return document.cookie=o},get:function(){return document.cookie},getCrumb:function(o){if(!o){return null}return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\"+encodeURIComponent(o).replace(/[\\-\\.\\+\\*]/g,\"\\\\$&\")+\"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"),\"$1\"))||null},policyRequiresRefresh:function(){var p=new Date();p.setHours(0);p.setMinutes(0);p.setSeconds(0);p.setMilliseconds(0);if(bbccookies.POLICY_REFRESH_DATE_MILLIS<=p.getTime()){var o=bbccookies.getCrumb(bbccookies.POLICY_EXPIRY_COOKIENAME);if(o){o=new Date(parseInt(o));o.setYear(o.getFullYear()-1);return bbccookies.POLICY_REFRESH_DATE_MILLIS>=o.getTime()}else{return true}}else{return false}},_setPolicy:function(o){return h.apply(this,arguments)},readPolicy:function(){return b.apply(this,arguments)},_deletePolicy:function(){i(e,\"\",m)},isAllowed:function(){return true},_isConfirmed:function(){return c()!==null},_acceptsAll:function(){var o=b();return o&&!(j(o).indexOf(\"0\")>-1)},_getCookieName:function(){return d.apply(this,arguments)},_showPrompt:function(){var o=((!this._isConfirmed()||this.policyRequiresRefresh())&&window.cta_enabled&&this.cookiesEnabled()&&!window.bbccookies_disable);return(window.orb&&window.orb.fig)?o&&(window.orb.fig(\"no\")||window.orb.fig(\"ck\")):o}};bbccookies._getPolicy=bbccookies.readPolicy;function d(p){var o=(\"\"+p).match(/^([^=]+)(?==)/);return(o&&o.length?o[0]:\"\")}function j(o){return\"\"+(o.ads?1:0)+(o.personalisation?1:0)+(o.performance?1:0)}function h(s){if(typeof s===\"undefined\"){s=k}if(typeof arguments[0]===\"string\"){var p=arguments[0],r=arguments[1];if(p===\"necessary\"){r=true}s=b();s[p]=r}else{if(typeof arguments[0]===\"object\"){s.necessary=true}}var q=new Date();q.setYear(q.getFullYear()+1);bbccookies.set(e+\"=\"+j(s)+\";domain=bbc.co.uk;path=/;expires=\"+q.toUTCString()+\";\");bbccookies.set(e+\"=\"+j(s)+\";domain=bbc.com;path=/;expires=\"+q.toUTCString()+\";\");var o=new Date(q.getTime());o.setMonth(o.getMonth()+1);bbccookies.set(bbccookies.POLICY_EXPIRY_COOKIENAME+\"=\"+q.getTime()+\";domain=bbc.co.uk;path=/;expires=\"+o.toUTCString()+\";\");bbccookies.set(bbccookies.POLICY_EXPIRY_COOKIENAME+\"=\"+q.getTime()+\";domain=bbc.com;path=/;expires=\"+o.toUTCString()+\";\");return s}function l(o){if(o===null){return null}var p=o.split(\"\");return{ads:!!+p[0],personalisation:!!+p[1],performance:!!+p[2],necessary:true}}function c(){var o=new RegExp(\"(?:^|; ?)\"+e+\"=(\\\\d\\\\d\\\\d)($|;)\"),p=document.cookie.match(o);if(!p){return null}return p[1]}function b(o){var p=l(c());if(!p){p=k}if(o){return p[o]}else{return p}}function g(o){return document.cookie=o+\"=;expires=\"+m+\";\"}function n(){var o='<script type=\"text/javascript\" src=\"http://static.bbci.co.uk/frameworks/bbccookies/0.6.11/script/bbccookies.js\"><\\/script>';if(window.bbccookies_flag===\"ON\"&&!bbccookies._acceptsAll()&&!window.bbccookies_disable){document.write(o)}}n()})(); /*]]>*/</script> <script type=\"text/javascript\">/*<![CDATA[*/\n(function(){window.fig=window.fig||{};window.fig.manager={include:function(a){a=a||window;var e=a.document,g=e.cookie,b=g.match(/(?:^|; ?)ckns_orb_fig=([^;]+)/);if(!b&&g.indexOf(\"ckns_orb_nofig=1\")>-1){this.setFig(a,{no:1})}else{if(b){b=this.deserialise(decodeURIComponent(RegExp.$1));this.setFig(a,b)}e.write('<script src=\"https://fig.bbc.co.uk/frameworks/fig/1/fig.js\"><'+\"/script>\")}},confirm:function(a){a=a||window;if(a.orb&&a.orb.fig&&a.orb.fig(\"no\")){this.setNoFigCookie(a)}if(a.orb===undefined||a.orb.fig===undefined){this.setFig(a,{no:1});this.setNoFigCookie(a)}},setNoFigCookie:function(a){a.document.cookie=\"ckns_orb_nofig=1; expires=\"+new Date(new Date().getTime()+1000*60*10).toGMTString()+\";\"},setFig:function(a,b){(function(){var c=b;a.orb=a.orb||{};a.orb.fig=function(d){return(arguments.length)?c[d]:c}})()},deserialise:function(b){var a={};b.replace(/([a-z]{2}):([0-9]+)/g,function(){a[RegExp.$1]=+RegExp.$2});return a}}})();fig.manager.include();/*]]>*/</script>\n \n<!--[if (gt IE 8) | (IEMobile)]><!-->\n<link rel=\"stylesheet\" href=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/style/orb.css\">\n<!--<![endif]-->\n\n<!--[if (lt IE 9) & (!IEMobile)]>\n<link rel=\"stylesheet\" href=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/style/orb-ie.css\">\n<![endif]-->\n\n  <script type=\"text/javascript\">/*<![CDATA[*/ (function(undefined){if(!window.bbc){window.bbc={}}var ROLLING_PERIOD_DAYS=30;window.bbc.Mandolin=function(id,segments,opts){var now=new Date().getTime(),storedItem,DEFAULT_START=now,DEFAULT_RATE=1,COOKIE_NAME=\"ckpf_mandolin\";opts=opts||{};this._id=id;this._segmentSet=segments;this._store=new window.window.bbc.Mandolin.Storage(COOKIE_NAME);this._opts=opts;this._rate=(opts.rate!==undefined)?+opts.rate:DEFAULT_RATE;this._startTs=(opts.start!==undefined)?new Date(opts.start).getTime():new Date(DEFAULT_START).getTime();this._endTs=(opts.end!==undefined)?new Date(opts.end).getTime():daysFromNow(ROLLING_PERIOD_DAYS);this._signupEndTs=(opts.signupEnd!==undefined)?new Date(opts.signupEnd).getTime():this._endTs;this._segment=null;if(typeof id!==\"string\"){throw new Error(\"Invalid Argument: id must be defined and be a string\")}if(Object.prototype.toString.call(segments)!==\"[object Array]\"){throw new Error(\"Invalid Argument: Segments are required.\")}if(opts.rate!==undefined&&(opts.rate<0||opts.rate>1)){throw new Error(\"Invalid Argument: Rate must be between 0 and 1.\")}if(this._startTs>this._endTs){throw new Error(\"Invalid Argument: end date must occur after start date.\")}if(!(this._startTs<this._signupEndTs&&this._signupEndTs<=this._endTs)){throw new Error(\"Invalid Argument: SignupEnd must be between start and end date\")}removeExpired.call(this,now);var overrides=window.bbccookies.get().match(/ckns_mandolin_setSegments=([^;]+)/);if(overrides!==null){eval(\"overrides = \"+decodeURIComponent(RegExp.$1)+\";\");if(overrides[this._id]&&this._segmentSet.indexOf(overrides[this._id])==-1){throw new Error(\"Invalid Override: overridden segment should exist in segments array\")}}if(overrides!==null&&overrides[this._id]){this._segment=overrides[this._id]}else{if((storedItem=this._store.getItem(this._id))){this._segment=storedItem.segment}else{if(this._startTs<=now&&now<this._signupEndTs&&now<=this._endTs&&this._store.isEnabled()===true){this._segment=pick(segments,this._rate);if(opts.end===undefined){this._store.setItem(this._id,{segment:this._segment})}else{this._store.setItem(this._id,{segment:this._segment,end:this._endTs})}log.call(this,\"mandolin_segment\")}}}log.call(this,\"mandolin_view\")};window.bbc.Mandolin.prototype.getSegment=function(){return this._segment};function log(actionType,params){var that=this;require([\"istats-1\"],function(istats){istats.log(actionType,that._id+\":\"+that._segment,params?params:{})})}function removeExpired(expires){var items=this._store.getItems(),expiresInt=+expires;for(var key in items){if(items[key].end!==undefined&&+items[key].end<expiresInt){this._store.removeItem(key)}}}function getLastExpirationDate(data){var winner=0,rollingExpire=daysFromNow(ROLLING_PERIOD_DAYS);for(var key in data){if(data[key].end===undefined&&rollingExpire>winner){winner=rollingExpire}else{if(+data[key].end>winner){winner=+data[key].end}}}return(winner)?new Date(winner):new Date(rollingExpire)}window.bbc.Mandolin.prototype.log=function(params){log.call(this,\"mandolin_log\",params)};window.bbc.Mandolin.prototype.convert=function(params){log.call(this,\"mandolin_convert\",params);this.convert=function(){}};function daysFromNow(n){var endDate;endDate=new Date().getTime()+(n*60*60*24)*1000;return endDate}function pick(segments,rate){var picked,min=0,max=segments.length-1;if(typeof rate===\"number\"&&Math.random()>rate){return null}do{picked=Math.floor(Math.random()*(max-min+1))+min}while(picked>max);return segments[picked]}window.bbc.Mandolin.Storage=function(name){validateCookieName(name);this._cookieName=name;this._isEnabled=(bbccookies.isAllowed(this._cookieName)===true&&bbccookies.cookiesEnabled()===true)};window.bbc.Mandolin.Storage.prototype.setItem=function(key,value){var storeData=this.getItems();storeData[key]=value;this.save(storeData);return value};window.bbc.Mandolin.Storage.prototype.isEnabled=function(){return this._isEnabled};window.bbc.Mandolin.Storage.prototype.getItem=function(key){var storeData=this.getItems();return storeData[key]};window.bbc.Mandolin.Storage.prototype.removeItem=function(key){var storeData=this.getItems();delete storeData[key];this.save(storeData)};window.bbc.Mandolin.Storage.prototype.getItems=function(){return deserialise(this.readCookie(this._cookieName)||\"\")};window.bbc.Mandolin.Storage.prototype.save=function(data){window.bbccookies.set(this._cookieName+\"=\"+encodeURIComponent(serialise(data))+\"; expires=\"+getLastExpirationDate(data).toUTCString()+\";\")};window.bbc.Mandolin.Storage.prototype.readCookie=function(name){var nameEq=name+\"=\",ca=window.bbccookies.get().split(\"; \"),i,c;validateCookieName(name);for(i=0;i<ca.length;i++){c=ca[i];if(c.indexOf(nameEq)===0){return decodeURIComponent(c.substring(nameEq.length,c.length))}}return null};function serialise(o){var str=\"\";for(var p in o){if(o.hasOwnProperty(p)){str+='\"'+p+'\"'+\":\"+(typeof o[p]===\"object\"?(o[p]===null?\"null\":\"{\"+serialise(o[p])+\"}\"):'\"'+o[p].toString()+'\"')+\",\"}}return str.replace(/,\\}/g,\"}\").replace(/,$/g,\"\")}function deserialise(str){var o;str=\"{\"+str+\"}\";if(!validateSerialisation(str)){throw\"Invalid input provided for deserialisation.\"}eval(\"o = \"+str);return o}var validateSerialisation=(function(){var OBJECT_TOKEN=\"<Object>\",ESCAPED_CHAR='\"\\\\n\\\\r\\\\u2028\\\\u2029\\\\u000A\\\\u000D\\\\u005C',ALLOWED_CHAR=\"([^\"+ESCAPED_CHAR+\"]|\\\\\\\\[\"+ESCAPED_CHAR+\"])\",KEY='\"'+ALLOWED_CHAR+'+\"',VALUE='(null|\"'+ALLOWED_CHAR+'*\"|'+OBJECT_TOKEN+\")\",KEY_VALUE=KEY+\":\"+VALUE,KEY_VALUE_SEQUENCE=\"(\"+KEY_VALUE+\",)*\"+KEY_VALUE,OBJECT_LITERAL=\"({}|{\"+KEY_VALUE_SEQUENCE+\"})\",objectPattern=new RegExp(OBJECT_LITERAL,\"g\");return function(str){if(str.indexOf(OBJECT_TOKEN)!==-1){return false}while(str.match(objectPattern)){str=str.replace(objectPattern,OBJECT_TOKEN)}return str===OBJECT_TOKEN}})();function validateCookieName(name){if(name.match(/ ,;/)){throw\"Illegal name provided, must be valid in browser cookie.\"}}})(); /*]]>*/</script>  <script type=\"text/javascript\">  document.documentElement.className += (document.documentElement.className? ' ' : '') + 'orb-js';  fig.manager.confirm(); </script> <script src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/script/orb/api.min.js\"></script> <script type=\"text/javascript\"> var blq = { environment: function() { return 'live'; } } </script>   <script type=\"text/javascript\"> /*<![CDATA[*/ function oqsSurveyManager(w, flag) { if (flag !== 'OFF') { w.document.write('<script type=\"text/javascript\" src=\"http://static.bbci.co.uk/frameworks/barlesque/2.84.11/orb/4/script/vendor/edr.js\"><'+'/script>'); } } oqsSurveyManager(window, 'ON'); /*]]>*/ </script>  <script type=\"text/javascript\"> /* <![CDATA[ */ define('id-statusbar-config', { 'translation_signedout': \"Sign in\", 'translation_signedin': \"Your account\", 'use_overlay' : false, 'signin_url' : \"https://ssl.bbc.co.uk/id/signin\", 'locale' : \"en-GB\", 'policyname' : \"\", 'ptrt' : \"http://www.bbc.co.uk/\" }); /* ]]> */ </script>   <script type=\"text/javascript\"> require(['istats-1'], function(istats){ if (typeof(document) != 'undefined' && typeof(document.cookie) != 'undefined') { var cookieAphidMatch = document.cookie.match(/ckpf_APHID=([^;]*)/); if (cookieAphidMatch && typeof(cookieAphidMatch[1]) == 'string') { istats.addLabels({'bbc_hid': cookieAphidMatch[1]}); } } })(); </script>    <script type=\"text/javascript\"> (function () { if (! window.require) { throw new Error('idcta: could not find require module'); } var map = {}; map['idapp-1'] = 'http://static.bbci.co.uk/idapp/0.70.90/modules/idapp/idapp-1'; map['idcta/idcta-1'] = 'http://static.bbci.co.uk/id/0.32.00/modules/idcta/idcta-1'; map['idcta/idCookie'] = 'http://static.bbci.co.uk/id/0.32.00/modules/idcta/idCookie'; map['idcta/overlayManager'] = 'http://static.bbci.co.uk/id/0.32.00/modules/idcta/overlayManager'; require({paths: map}); define('id-config', {\"idapp\":{\"version\":\"0.70.90\",\"hostname\":\"ssl.bbc.co.uk\",\"insecurehostname\":\"www.bbc.co.uk\",\"tld\":\"bbc.co.uk\"},\"idtranslations\":{\"version\":\"0.33.9\"},\"identity\":{\"baseUrl\":\"https:\\/\\/talkback.live.bbc.co.uk\\/identity\",\"cookieAgeDays\":730,\"accessTokenCookieName\":\"ckns_IDA-ATKN\"},\"pathway\":{\"name\":null,\"staticAssetUrl\":\"http:\\/\\/static.bbci.co.uk\\/idapp\\/0.70.90\\/modules\\/idapp\\/idapp-1\\/View.css\"},\"idpurl\":false}); })(); </script>   <script type=\"text/javascript\">/*<![CDATA[*/\n    window.bbcFlagpoles_istats = 'ON';\n    window.orb = window.orb || {};\n\n    /*]]>*/</script>\n            <!-- BBCDOTCOM template: responsive webservice  -->\n        <!-- BBCDOTCOM head --><script type=\"text/javascript\"> /*<![CDATA[*/ var _sf_startpt = (new Date()).getTime(); /*]]>*/ </script><style type=\"text/css\">.bbccom_display_none{display:none;}</style><script type=\"text/javascript\"> /*<![CDATA[*/ var bbcdotcomConfig, googletag = googletag || {}; googletag.cmd = googletag.cmd || []; var bbcdotcom = false; (function(){ if(typeof require !== 'undefined') { require({ paths:{ \"bbcdotcom\":\"http://static.bbci.co.uk/bbcdotcom/0.3.328/script\" } }); } })(); /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ var bbcdotcom = { adverts: { keyValues: { set: function() {} } }, advert: { write: function () {}, show: function () {}, isActive: function () { return false; }, layout: function() { return { reset: function() {} } } }, config: { init: function() {}, isActive: function() {}, setSections: function() {}, isAdsEnabled: function() {}, setAdsEnabled: function() {}, isAnalyticsEnabled: function() {}, setAnalyticsEnabled: function() {}, setAssetPrefix: function() {}, setJsPrefix: function() {}, setSwfPrefix: function() {}, setCssPrefix: function() {}, setConfig: function() {}, getAssetPrefix: function() {}, getJsPrefix: function () {}, getSwfPrefix: function () {}, getCssPrefix: function () {} }, survey: { init: function(){ return false; } }, data: {}, init: function() {}, objects: function(str) { return false; }, locale: { set: function() {}, get: function() {} }, setAdKeyValue: function() {}, utils: { addEvent: function() {}, addHtmlTagClass: function() {}, log: function () {} }, addLoadEvent: function() {} }; /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ (function(){ if (typeof orb !== 'undefined' && typeof orb.fig === 'function') { if (orb.fig('ad') && orb.fig('uk') == 0) { bbcdotcom.data = { ads: (orb.fig('ad') ? 1 : 0), stats: (orb.fig('uk') == 0 ? 1 : 0), statsProvider: orb.fig('ap') }; } } else { document.write('<script type=\"text/javascript\" src=\"'+('https:' == document.location.protocol ? 'https://ssl.bbc.com' : 'http://tps.bbc.com')+'/wwscripts/data\">\\x3C/script>'); } })(); /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ (function(){ if (typeof orb === 'undefined' || typeof orb.fig !== 'function') { bbcdotcom.data = { ads: bbcdotcom.data.a, stats: bbcdotcom.data.b, statsProvider: bbcdotcom.data.c }; } if (bbcdotcom.data.ads == 1) { document.write('<script type=\"text/javascript\" src=\"'+('https:' == document.location.protocol ? 'https://ssl.bbc.co.uk' : 'http://www.bbc.co.uk')+'/wwscripts/flag\">\\x3C/script>'); } })(); /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ (function(){ if (window.bbcdotcom && (typeof bbcdotcom.flag == 'undefined' || (typeof bbcdotcom.data.ads !== 'undefined' && bbcdotcom.flag.a != 1))) { bbcdotcom.data.ads = 0; } if (/[?|&]ads/.test(window.location.href) || /(^|; )ads=on; /.test(document.cookie) || /; ads=on(; |$)/.test(document.cookie)) { bbcdotcom.data.ads = 1; bbcdotcom.data.stats = 1; } if (window.bbcdotcom && (bbcdotcom.data.ads == 1 || bbcdotcom.data.stats == 1)) { bbcdotcom.assetPrefix = \"http://static.bbci.co.uk/bbcdotcom/0.3.328/\"; document.write('<link rel=\"stylesheet\" type=\"text/css\" href=\"http://static.bbci.co.uk/bbcdotcom/0.3.328/style/orb/bbccom.css\" />'); (function() { var useSSL = 'https:' == document.location.protocol; var src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js'; document.write('<scr' + 'ipt src=\"' + src + '\">\\x3C/script>'); })(); if (/(sandbox|int)(.dev)*.bbc.co*/.test(window.location.href) || /[?|&]ads-debug/.test(window.location.href) || document.cookie.indexOf('ads-debug=') !== -1) { document.write('<script type=\"text/javascript\" src=\"http://static.bbci.co.uk/bbcdotcom/0.3.328/script/orb/individual.js\">\\x3C/script>'); } else { document.write('<script type=\"text/javascript\" src=\"http://static.bbci.co.uk/bbcdotcom/0.3.328/script/orb/bbcdotcom.js\">\\x3C/script>'); } if(/[\\\\?&]ads=([^&#]*)/.test(window.location.href)) { document.write('<script type=\"text/javascript\" src=\"http://static.bbci.co.uk/bbcdotcom/0.3.328/script/orb/adverts/adSuites.js\">\\x3C/script>'); } } })(); /*]]>*/ </script><script type=\"text/javascript\"> /*<![CDATA[*/ (function(){ if (window.bbcdotcom && (bbcdotcom.data.ads == 1 || bbcdotcom.data.stats == 1)) { bbcdotcomConfig = {\"adFormat\":\"standard\",\"adKeyword\":\"\",\"adMode\":\"smart\",\"adsEnabled\":true,\"appAnalyticsSections\":\"\",\"asyncEnabled\":false,\"disableInitialLoad\":false,\"advertInfoPageUrl\":\"http:\\/\\/www.bbc.co.uk\\/faqs\\/online\\/adverts_general\",\"advertisementText\":\"Advertisement\",\"analyticsEnabled\":true,\"appName\":\"barlesque\",\"assetPrefix\":\"http:\\/\\/static.bbci.co.uk\\/bbcdotcom\\/0.3.328\\/\",\"continuousPlayEnabled\":false,\"customAdParams\":[],\"customStatsParams\":[],\"headline\":\"\",\"id\":\"\",\"inAssociationWithText\":\"in association with\",\"keywords\":\"\",\"language\":\"\",\"orbTransitional\":false,\"outbrainEnabled\":true,\"palEnv\":\"live\",\"productName\":\"\",\"sections\":[],\"siteCatalystEnabled\":true,\"comScoreEnabled\":true,\"slots\":\"\",\"sponsoredByText\":\"is sponsored by\",\"adsByGoogleText\":\"Ads by Google\",\"summary\":\"\",\"type\":\"\",\"staticBase\":\"\\/bbcdotcom\",\"staticHost\":\"http:\\/\\/static.bbci.co.uk\",\"staticVersion\":\"0.3.328\",\"staticPrefix\":\"http:\\/\\/static.bbci.co.uk\\/bbcdotcom\\/0.3.328\",\"dataHttp\":\"tps.bbc.com\",\"dataHttps\":\"ssl.bbc.com\",\"flagHttp\":\"www.bbc.co.uk\",\"flagHttps\":\"ssl.bbc.co.uk\",\"analyticsHttp\":\"sa.bbc.com\",\"analyticsHttps\":\"ssa.bbc.com\"}; bbcdotcom.config.init(bbcdotcomConfig, bbcdotcom.data, window.location, window.document); bbcdotcom.config.setAssetPrefix(\"http://static.bbci.co.uk/bbcdotcom/0.3.328/\"); document.write('<!--[if IE 7]><script type=\"text/javascript\">bbcdotcom.config.setIE7(true);\\x3C/script><![endif]-->'); document.write('<!--[if IE 8]><script type=\"text/javascript\">bbcdotcom.config.setIE8(true);\\x3C/script><![endif]-->'); document.write('<!--[if IE 9]><script type=\"text/javascript\">bbcdotcom.config.setIE9(true);\\x3C/script><![endif]-->'); if (/[?|&]ex-dp/.test(window.location.href) || document.cookie.indexOf('ex-dp=') !== -1) { bbcdotcom.utils.addHtmlTagClass('bbcdotcom-ex-dp'); } } })(); /*]]>*/ </script>"
}
```

## title-envelope

```text
{
  "html": "<h1>My Title</h1>",
  "css": "<link rel='stylesheet' src='https://s3-eu-west-1.amazonaws.com/shared-application-buckets-public-1pmfwo80l61it/composition-example/assets/css/title.css'>",
  "javascript": "<script>alert('Hello from Title component');</script>",
  "meta": "<meta name='author' content='BBC News'>"
}
```

