<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Golang Named Return Zero Value] #go #golang #zero #named #return</title>
<link rel="stylesheet" type="text/css" href="../../assets/css/styles.css">
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<h1 id="golang-named-return-zero-value-go-golang-zero-named-return">[Golang Named Return Zero Value] #go #golang #zero #named #return</h1>

<h2 id="golang-named-return-zero-value-md">Golang Named Return Zero Value.md</h2>

<pre><code class="language-markdown">Go's return values may be named. If so, they are treated as variables defined at the top of the function.

These names should be used to document the meaning of the return values.

A return statement without arguments returns the named return values. This is known as a &quot;naked&quot; return.

Naked return statements should be used only in short functions. They can harm readability in longer functions.

```go
package main

import &quot;fmt&quot;

func do() (b bool) {
    // var b bool &lt;&lt; imagine the compiler added this
	return
}

func main() {
	fmt.Println(do()) // false
}
</code></pre>

<p>Here&rsquo;s a real example of using the &lsquo;zero&rsquo; value properties of named returns.</p>

<p>In this example we have a <code>GetString</code> which will return a default value if a key isn&rsquo;t found. It does this by internally calling <code>GetStringDefault</code> and passing it the named return variable <code>val</code> that <code>GetString</code> has defined.</p>

<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
)

func GetString(key string) (val string) {
	// 'named' return value are initialized to their zero value
	// meaning we can proxy the zero value through to a nested function
	//
	return GetStringDefault(key, val)
}

func GetStringDefault(key string, defaultValue string) string {
	m := map[string]string{
		&quot;foo&quot;: &quot;bar&quot;,
		&quot;abc&quot;: &quot;xyz&quot;,
	}

	v, ok := m[key]
	if !ok {
		return defaultValue
	}
	return v
}

func main() {
	defaultValue := &quot;no key found&quot;
	
	// if you care about getting a default value back
	// then use the GetStringDefault function
	//
	fmt.Println(GetStringDefault(&quot;foo&quot;, defaultValue)) // bar
	fmt.Println(GetStringDefault(&quot;abc&quot;, defaultValue)) // xyz
	fmt.Println(GetStringDefault(&quot;xxx&quot;, defaultValue)) // no key found

	// if you don't care about getting a default value back
	// then use the GetString function, and you'll now get back a zero value
	//
	fmt.Println(GetString(&quot;foo&quot;)) // &quot;bar&quot;
	fmt.Println(GetString(&quot;abc&quot;)) // &quot;xyz&quot;
	fmt.Println(GetString(&quot;xxx&quot;)) // &quot;&quot; &lt;&lt; zero value for type string
}
</code></pre>

<p>&rdquo;`</p>

</div>
</body>
</html>