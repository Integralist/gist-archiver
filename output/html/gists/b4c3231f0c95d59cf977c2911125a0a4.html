<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Fastly Terraform 1.0.0 Migration Guide] #delete #fastly #work</title>
<style>
body { font-family: sans-serif; margin: 20px; line-height: 1.6; background-color: #f4f4f4; color: #333; }
.container { max-width: 800px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
pre { background: #f0f0f0; padding: 1em; border-radius: 5px; overflow-x: auto; border: 1px solid #ddd; }
code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.9em;}
h1, h2 { border-bottom: 1px solid #eee; padding-bottom: 0.3em;}
a.back-link { display: inline-block; margin-bottom: 20px; color: #007bff; text-decoration: none; }
a.back-link:hover { text-decoration: underline; }
</style>
</head>
<body>
<div class="container">
<a href="../index.html" class="back-link">&laquo; Back to Index</a>
<h1 id="fastly-terraform-1-0-0-migration-guide-delete-fastly-work">[Fastly Terraform 1.0.0 Migration Guide] #delete #fastly #work</h1>

<h2 id="fastly-terraform-1-0-0-migration-guide-md">Fastly Terraform 1.0.0 Migration Guide.md</h2>

<pre><code class="language-markdown">## Migration Guide

**Resources omit `_v1` suffix**:

All resources now have a consistent naming convention which omit the previous v1 suffix.

- `fastly_service_v1` -&gt; `fastly_service_vcl` (renamed with `_vcl` suffix)
- `fastly_service_acl_entries_v1` -&gt; `fastly_service_acl_entries`
- `fastly_service_dictionary_items_v1` -&gt; `fastly_service_dictionary_items`
- `fastly_service_dynamic_snippet_content_v1` -&gt; `fastly_service_dynamic_snippet_content`
- `fastly_user_v1` -&gt; `fastly_user`

**Logging resources have consistent naming format**:

All logging resources now have a consistent naming convention with the provider prefixed with `logging_`.

- `bigquerylogging` -&gt; `logging_bigquery`
- `blobstoragelogging` -&gt; `logging_blobstorage`
- `gcslogging` -&gt; `logging_gcs`
- `httpslogging` -&gt; `logging_https`
- `logentries` -&gt; `logging_logentries`
- `papertrail` -&gt; `logging_papertrail`
- `s3logging` -&gt; `logging_s3`
- `splunk` -&gt; `logging_splunk`
- `sumologic` -&gt; `logging_sumologic`
- `syslog` -&gt; `logging_syslog`

**Director `capacity` removed**:

The Fastly API never supported the `capacity` field for a `director` resource (this was added to the Terraform provider by mistake). Load balancing of director backends is managed by the `weight` field on each associated `backend` resource.

**GCS Logging field `email` renamed**:

The Fastly API was updated with a new [`user`](https://developer.fastly.com/reference/api/logging/gcs/) field to replace `email`.

**Logging `format` and `format_version` defaults changed**:

Pre-1.0.0 the default values for `format` and `format_version` were incorrectly set to an older version `1`. All new logging endpoints use the version `2` custom log format by default.

**Backend `auto_loadbalance` default changed**:

The Fastly web interface defaults &quot;Auto load balance&quot; to &quot;No&quot;. The most common reason for having multiple backends in a single service is to route different paths to different backends, rather than load balance between different origins. The provider pre-1.0.0 defaulted `auto_loadbalance` to `true`, which was considered unexpected behaviour. The default is now `false`.

**Gzip `content_types` and `extensions` type changed**:

The `content_types` and `extensions` fields for a `gzip` resource, pre-1.0.0, were implemented as a [`TypeSet`](https://www.terraform.io/plugin/sdkv2/schemas/schema-types#typeset) (an **unordered** collection of items whose state index is calculated by the hash of the attributes of the set). This would result in confusing and unexpected diffs. Now they are implemented as a [`TypeList`](https://www.terraform.io/plugin/sdkv2/schemas/schema-types#typelist) (an **ordered** collection of items).

**Automatically opt-in to `ignore_changes` behaviour for versionless resources**:

The versionless resources (ACL entries, Dictionary items and Dynamic VCL Snippets) are sometimes used in a way whereby they are &quot;seeded&quot; via Terraform and then updated/managed externally via the API or UI console. For this, the documentation suggests using `ignore_changes`, a built-in Terraform meta-argument, that allows the user to specify fields to ignore and from which to allow the state to drift.

However, sometimes this isn't obvious or the user doesn't understand this suggestion until it is too late, and data ends up getting lost. This happens because the user makes changes elsewhere and doesn't use `ignore_changes`, so Terraform takes action to remove the state drift and deletes their changes. This data is then unrecoverable.

In 1.0.0 the default behaviour of these resources has changed. Terraform now ignores any changes, and only allows the &quot;dangerous&quot; behaviour by explicitly opting in with a `manage_*` option (e.g. `manage_entries`, `manage_items`, `manage_snippets` depending on the versionless resource).
</code></pre>

</div>
</body>
</html>